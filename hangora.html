<!DOCTYPE html>
<html lang="ko>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/hangora.css">
    <title>한민고등학교</title>
</head>
<body>
    <div id="p5main">
        <div style="width: 1200px; height: 400px;"></div>
    </div>
    <div>
        <button class="homepage-button rocket-font" onclick="document.location.href='/?page_id=74'">
            <img class="homepage-button-image" src="http://ghh7964.dothome.co.kr/wp-content/uploads/2022/11/ImageToStl.com_한고라_1.jpg1_.svg" alt="학생회">
            <div>
                학생회
            </div>
        </button>
        <button class="homepage-button rocket-font" onclick="document.location.href='/?page_id=463'">
            <img class="homepage-button-image" src="http://ghh7964.dothome.co.kr/wp-content/uploads/2022/11/ImageToStl.com_한고라_1.jpg.svg" alt="학생회">
            <div style="margin-bottom: 1rem;">학생회</div>
            <div>건의사항</div>
        </button>
        <button class="homepage-button rocket-font" onclick="document.location.href='/?page_id=32'">
            <img class="homepage-button-image" src="http://ghh7964.dothome.co.kr/wp-content/uploads/2022/11/ImageToStl.com_한고라_1.jpg3_.svg" alt="학생회">
            <div>
                한민인 투표장
            </div>
        </button>
        <button class="homepage-button rocket-font" onclick="document.location.href='/?page_id=36'">
            <img class="homepage-button-image" style="margin-bottom: -0.5rem;" src="http://ghh7964.dothome.co.kr/wp-content/uploads/2022/11/ImageToStl.com_한고라_1.jpg-1.svg" alt="학생회">
            <div style="margin-bottom: 1rem;">학교생활</div>
            <div>가이드</div>
        </button>
        <button class="homepage-button rocket-font" onclick="document.location.href='/?page_id=34'">
            <img class="homepage-button-image" src="http://ghh7964.dothome.co.kr/wp-content/uploads/2022/11/ImageToStl.com_한고라_1.jpg2_.svg" alt="학생회">
            <div>
                게시판
            </div>
        </button>
        <button class="homepage-button rocket-font" onclick="document.location.href='https://hmgamjamarket.o-r.kr/'">
            <img class="homepage-button-image" src="http://ghh7964.dothome.co.kr/wp-content/uploads/2022/11/ImageToStl.com_한고라_1.jpg-2.svg" alt="학생회">
            <div>
                감자마켓
            </div>
            <!-- <div style="color: gray; font-size: 1.4rem;">
                한민고 중고거래 마켓 -->
        </button>
        <div class="color-belt color-belt1"></div>
        <div class="color-belt color-belt2"></div>
        <div class="color-belt color-belt3"></div>
    </div>

    <!-- <div>
        <div class="government-picture">
            <!-- 아래에 src="링크"를 통해 사진을 삽입할 수 있습니다. -->
            <img src="http://ghh7964.dothome.co.kr/wp-content/uploads/2022/11/한민고-학생회-링크-로고.jpg" alt="학생회" width="100%">
            <!-- 위에 src="링크"를 통해 사진을 삽입할 수 있습니다. -->
        </div>
        <div class="government-board">
            <div class="government-board-title">
                학생회 주관 행사
            </div>
            <div class="government-board-content">
                [kboard_latest id="4" url="http://ghh7964.dothome.co.kr/?page_id=614" rpp="5"]
            </div>
            <div class="government-board-content-more">
                <a href="http://ghh7964.dothome.co.kr/?page_id=614">더보기 ></a>
            </div>
            <div class="government-board-title">
                학생회 소식
            </div>
            <div class="government-board-content">
                [kboard_latest id="5" url="http://ghh7964.dothome.co.kr/?page_id=616" rpp="5"]
            </div>
            <div class="government-board-content-more">
                <a href="http://ghh7964.dothome.co.kr/?page_id=616">더보기 ></a>
            </div>
        <div>
    </div>

    <div>
        <div class="votes-forum-content">
            [bbp-single-forum id=246]
        </div>
        <div class="votes-forum-content" style="float: right;">
            [bbp-single-forum id=349]
        </div>
    </div> -->

    <!-- 메인 영역 -->
    <!-- <div class="guide-container"> -->

        <!-- 사이드바 영역 -->
        <!-- <div class="guide-sidebar"> -->

            <!-- 메뉴 상태 변경 버튼 추가 -->
            <!-- <label class="guide-toggle">
            <span></span>
            <span></span>
            <span></span>
            </label>
            
            <div class="guide-sidebar-container">
                <button class="guide-sidebar-contents" onclick="document.location.href='/?page_id=36'">
                    학교생활
                </button>
                <button class="guide-sidebar-contents" onclick="document.location.href='/?page_id=61'">
                    교과활동
                </button>
                <button class="guide-sidebar-contents" onclick="document.location.href='/?page_id=63'">
                    자율활동
                </button>
                <button class="guide-sidebar-contents" onclick="document.location.href='/?page_id=65'">
                    동아리활동
                </button>
                <button class="guide-sidebar-contents" onclick="document.location.href='/?page_id=67'">
                    기숙사생활
                </button>
            </div>
        </div> -->
  
        <!-- 
              컨텐츠 영역 : 
              - 더미 텍스트(Lorem ipsum)을 활용하여 내용 강제로 늘려 테스트
          -->
        <!-- <div class="guide-contents">
            [kboard id=6]
        </div>
  
    </div>
    <script>
        window.addEventListener("load", function(){
            document.querySelector(".guide-toggle").addEventListener("click", function(){
                document.querySelector(".guide-container").classList.toggle("collapse");
            });
        });
    </script> -->

    <script src="js/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.5.0/lib/p5.min.js" type="text/javascript"></script>
    <script>
        // Most of this is by Daniel Shiffman
        // http://codingtra.in
        // Steering Text Paths
        // I changed the words
        //for sam kendizora

        /*
        YT URL : https://youtu.be/4hA7G3gup-4
        Coding Challenge #59: 'Steering Behaviors' By Daniel Shiffman

        “Steering Behavior Text” by Isaac J Garcia
        http://openprocessing.org/sketch/1639801
        License CreativeCommons Attribution NonCommercial ShareAlike
        https://creativecommons.org/licenses/by-nc-sa/3.0


        Font Name: Gmarket Sans
        */

        var font;
        var vehicles = [];

        var texts = ['LIPAD','Belonging', 'Freedom', 'Formal', 'justforU'];
        var nextT = 0;
        var maxChangeForce = 20;

        var instructions = [];
        var insText = '한고라';

        function preload() {
            font = loadFont('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff');
        }

        function setup() {
            var cMain = createCanvas(document.querySelector('#p5main').offsetWidth, 400);
            cMain.parent('p5main');
            vehicles=[];
            instructions=[];

            background(51);

            var bounds = font.textBounds(texts[nextT], 0, 0, 192);
            var posx = width / 2 - bounds.w / 2;
            var posy = height / 2 + bounds.h / 2;

            var points = font.textToPoints(texts[nextT], posx, posy, 192, {
                sampleFactor: 0.1
            });

            for (var i = 0; i < points.length; i++) {
                var pt = points[i];
                var vehicle = new Vehicle(pt.x, pt.y);
                vehicles.push(vehicle);
            }

            var boundsIns = font.textBounds(insText, 0, 0, 30);
            var posxIns = width / 2 - boundsIns.w / 2;
            var posyIns = height / 6 + boundsIns.h / 2;

            var insAr = split(insText, ' ');

            for (var i = 0; i < insAr.length; i++) {
                var bounds2 = font.textBounds(insAr[i], 0, 0, 30);
                var posx2 = posxIns;
                var posy2 = posyIns;

                posxIns += bounds2.w + 10;

                var points2 = font.textToPoints(insAr[i], posx2, posy2, 30, {
                    sampleFactor: 0.3
                });

                for (var j = 0; j < points2.length; j++) {
                    var pt = points2[j];
                    var v = new Vehicle(pt.x, pt.y, 3);
                    instructions.push(v);
                }
            }
        }

        function windowResized() {
            resizeCanvas(document.querySelector('#p5main').offsetWidth, 400);
            setup();
        }

        function draw() {
            background(51);

            for (var i = 0; i < instructions.length; i++) {
                var v = instructions[i];
                v.behaviors();
                v.update();
                v.show();
            }

            for (var i = 0; i < vehicles.length; i++) {
                var v = vehicles[i];
                v.behaviors();
                v.update();
                v.show();
            }
        }

        function mouseClicked() {
            nextT++;
            if (nextT > texts.length - 1) {
                nextT = 0;
            }

            var bounds = font.textBounds(texts[nextT], 0, 0, 192);
            var posx = width / 2 - bounds.w / 2;
            var posy = height / 2 + bounds.h / 2;

            var points = font.textToPoints(texts[nextT], posx, posy, 192, {
                sampleFactor: 0.1
            });

            if (points.length < vehicles.length) {
                var toSplice = vehicles.length - points.length;
                vehicles.splice(points.length - 1, toSplice);

                for (var i = 0; i < points.length; i++) {
                    vehicles[i].target.x = points[i].x;
                    vehicles[i].target.y = points[i].y;

                    var force = p5.Vector.random2D();
                    force.mult(random(maxChangeForce));
                    vehicles[i].applyForce(force);
                }
            } else if (points.length > vehicles.length) {

                for (var i = vehicles.length; i < points.length; i++) {
                    var v = vehicles[i - vehicles.length].clone();

                    vehicles.push(v);
                }

                for (var i = 0; i < points.length; i++) {
                    vehicles[i].target.x = points[i].x;
                    vehicles[i].target.y = points[i].y;

                    var force = p5.Vector.random2D();
                    force.mult(random(maxChangeForce));
                    vehicles[i].applyForce(force);
                }

            } else {
                for (var i = 0; i < points.length; i++) {
                    vehicles[i].target.x = points[i].x;
                    vehicles[i].target.y = points[i].y;

                    var force = p5.Vector.random2D();
                    force.mult(random(maxChangeForce));
                    vehicles[i].applyForce(force);
                }
            }
        }

        function Vehicle(x, y, size) {
            this.pos = createVector(random(width), random(height));
            this.target = createVector(x, y);
            this.vel = p5.Vector.random2D();
            this.acc = createVector();
            if (size != null) {
                this.r = size;
            } else {
                this.r = 8;
            }
            this.maxspeed = 10;
            this.maxforce = 1;
        }

        Vehicle.prototype.behaviors = function () {
            var arrive = this.arrive(this.target);
            var mouse = createVector(mouseX, mouseY);
            var flee = this.flee(mouse);

            arrive.mult(1);
            flee.mult(5);

            this.applyForce(arrive);
            this.applyForce(flee);
        }

        Vehicle.prototype.applyForce = function (f) {
            this.acc.add(f);
        }

        Vehicle.prototype.update = function () {
            this.pos.add(this.vel);
            this.vel.add(this.acc);
            this.acc.mult(0);
        }

        Vehicle.prototype.show = function () {
            stroke(255);
            strokeWeight(this.r);
            point(this.pos.x, this.pos.y);
        }


        Vehicle.prototype.arrive = function (target) {
            var desired = p5.Vector.sub(target, this.pos);
            var d = desired.mag();
            var speed = this.maxspeed;
            if (d < 100) {
                speed = map(d, 0, 100, 0, this.maxspeed);
            }
            desired.setMag(speed);
            var steer = p5.Vector.sub(desired, this.vel);
            steer.limit(this.maxforce);
            return steer;
        }

        Vehicle.prototype.flee = function (target) {
            var desired = p5.Vector.sub(target, this.pos);
            var d = desired.mag();
            if (d < 50) {
                desired.setMag(this.maxspeed);
                desired.mult(-1);
                var steer = p5.Vector.sub(desired, this.vel);
                steer.limit(this.maxforce);
                return steer;
            } else {
                return createVector(0, 0);
            }
        }

        Vehicle.prototype.clone = function () {
            var v = new Vehicle(this.pos.x, this.pos.y);

            v.pos.x = this.pos.x;
            v.pos.y = this.pos.y;

            v.vel.x = this.vel.x;
            v.vel.y = this.vel.y;

            v.acc.x = this.acc.x;
            v.acc.y = this.acc.y;

            return v;
        }
    </script>
</body>
</html>